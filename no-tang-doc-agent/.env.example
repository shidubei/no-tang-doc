# no-tang-doc-agent Environment Variables
# Copy this file to .env and update the values as needed

# ===== MCP Server Configuration =====
# Base URL for no-tang-doc-core API
# Local: http://core:8070 or http://localhost:8070
# Production: https://api.ntdoc.site
BASE_URL=http://core:8070

# MCP Server name
SERVER_NAME=no-tang-doc-agent-mcp-server

# Enable debug mode (true/false)
DEBUG=true

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Server host and port
HOST=0.0.0.0
PORT=8002

# ===== OAuth2/OIDC Configuration =====
# Keycloak issuer URL
# Local: http://auth.local:8080/realms/ntdoc
# Production: https://auth.ntdoc.site/realms/ntdoc
ISSUER_URL=http://auth.local:8080/realms/ntdoc

# Resource server URL (externally accessible URL)
# Local: http://localhost:8002/mcp
# Production: https://agent.ntdoc.site/mcp
RESOURCE_SERVER_URL=http://localhost:8002/mcp

# Required OAuth2 scopes (comma-separated)
REQUIRED_SCOPES=email profile mcp-user

# ===== Database Configuration (for core service) =====
MYSQL_ROOT_PASSWORD=root
MYSQL_DATABASE=notangdoc
SPRING_DATASOURCE_URL=jdbc:mysql://mysql:3306/notangdoc?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true
SPRING_DATASOURCE_USERNAME=root
SPRING_DATASOURCE_PASSWORD=root

# ===== Keycloak Configuration =====
KC_DB_USERNAME=keycloak
KC_DB_PASSWORD=keycloak_pass
KEYCLOAK_ADMIN_USERNAME=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KEYCLOAK_ISSUER_URI=http://auth.local:8080/realms/ntdoc
KEYCLOAK_JWK_SET_URI=http://keycloak:8080/realms/ntdoc/protocol/openid-connect/certs

# ===== Spring Profile =====
SPRING_PROFILES_ACTIVE=local
